% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/NIS_core.R
\name{load_nis_core}
\alias{load_nis_core}
\title{Load NIS Data from .Do and ASC Core Files for any year}
\usage{
load_nis_core(do_path, asc_path, output_direct)
}
\arguments{
\item{do_path}{Character. The path to the Stata .Do file.}

\item{asc_path}{Character. The path to the fixed-width ASCII (.ASC) file.}

\item{output_direct}{Character. The working directory where the output fst file will be written.}
}
\value{
A list with three elements:
  \item{schema}{A data.table containing the variable schema with columns \code{type}, \code{varname}, \code{start}, \code{end}, and \code{width}.}
  \item{missing_values}{A character vector of missing value definitions.}
  \item{data}{A data.table with the loaded NIS Core data (columns renamed according to the schema).}
}
\description{
This function reads a Stata .Do file and the associated ASC file for a National Inpatient Sample (NIS) dataset.
It is designed to work for any year
It extracts the variable schema (variable types, names, start and end positions) and the missing-value definitions from the .Do file.
Using these, it reads the fixed-width ASCII file into a data.table, renames the columns accordingly,
and writes the data as an fst file for fast reloading.
}
\examples{
\dontrun{
  nis <- load_nis_core(
          do_path = "~/project/STATA load programs/StataLoad_NIS_2021_Core.Do",
          asc_path = "/project/data/ASCII/NIS_2021_Core.ASC",
          output_direct = "/project/data")
}
}
